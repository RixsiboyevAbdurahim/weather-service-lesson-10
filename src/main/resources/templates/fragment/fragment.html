<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<head>
    <meta charset="UTF-8">
    <title>Fragment Page</title>
    <link th:fragment="css" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

</head>
<body>
<nav th:fragment="navbar" class="navbar navbar-dark bg-dark">
    <div class="container-fluid">
        <div>
            <a class="navbar-brand" th:text="#{choselanguage}"></a>
            <form action="/" method="post" class="d-inline">
                <input type="hidden" name="lang" value="uz">
                <button class="btn btn-outline-primary" type="submit">Uz</button>
            </form>
            <form action="/" method="post" class="d-inline">
                <input type="hidden" name="lang" value="en">
                <button class="btn btn-outline-success" type="submit">Eng</button>
            </form>
        </div>

        <div>
            <div class="d-inline-block" sec:authorize="isAnonymous()">
                <form action="/register" method="get" class="d-inline">
                    <a class="btn btn-success" type="submit" th:href="@{/register}" th:text="#{registerpage}"></a>
                </form>
            </div>
            <div class="d-inline-block" sec:authorize="isAnonymous()">
                <form action="/login" method="post" class="d-inline">
                    <a class="btn btn-primary" th:href="@{/login}" th:text="#{loginpage}"></a>
                </form>
            </div>
            <div class="d-inline-block" sec:authorize="isAuthenticated()">
                <form action="/logout" class="d-inline">
                    <a class="btn btn-danger" th:href="@{/logout}" th:text="#{button_log_out}"></a>
                </form>
            </div>
        </div>

        <h3 class="d-inline-block" style="color: yellow" sec:authorize="isAuthenticated()"
            th:text="${#authentication.name.toUpperCase()}"></h3>

        <form class="d-flex">
            <input class="form-control me-2" type="search" th:placeholder="#{search}" aria-label="Search">
            <button class="btn btn-outline-success" type="submit" th:text="#{search}"></button>
        </form>
    </div>
</nav>

</body>
</html>